# render.yaml
services:
  - type: web
    name: trading-webhook-service
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: uvicorn main:app --host 0.0.0.0 --port $PORT
    autoDeploy: true
    healthCheckPath: /health
    envVars:
      - key: LONG_SYMBOL
        value: MSTU
      - key: SHORT_SYMBOL
        value: MSTZ
      - key: SIGNAL_STACK_API_URL
        value: https://app.signalstack.com/hook/eL6vejLLAiy1cDd888gevK
      - key: COOLDOWN_PERIOD_HOURS
        value: 12
      - key: RETRY_MAX_ATTEMPTS
        value: 5
      - key: RETRY_BACKOFF_FACTOR
        value: 2
      - key: BUY_RETRY_PERCENTAGE_REDUCTION
        value: 2
      - key: MAX_BUY_RETRIES
        value: 5
      - key: INITIAL_CASH_BALANCE
        value: 10000.0
      - key: LOG_LEVEL
        value: INFO
